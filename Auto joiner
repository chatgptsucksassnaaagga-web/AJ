--// KRYPTH AJ — SERIOUS / CLEAN / MODERN GUI
--// Full LocalScript – draggable, tabs, animations, clean layout
--// NO EMOJIS • NO DEBUG • NO TALK • JUST SCRIPT

repeat task.wait() until game:IsLoaded()

-- SERVICES
local Players = game:GetService("Players")
local TweenService = game:GetService("TweenService")
local UserInputService = game:GetService("UserInputService")
local TeleportService = game:GetService("TeleportService")
local HttpService = game:GetService("HttpService")

local player = Players.LocalPlayer
local PlayerGui = player:WaitForChild("PlayerGui")

-- CONFIG
local RELAY_URL = "https://talks-prize-strings-system.trycloudflare.com/servers"
local REFRESH_INTERVAL = 5

-- CLEAN
pcall(function()
	if PlayerGui:FindFirstChild("KrypthAJ") then
		PlayerGui.KrypthAJ:Destroy()
	end
end)

-- UTILS
local function tween(o,p,t)
	TweenService:Create(o,TweenInfo.new(t or 0.3,Enum.EasingStyle.Quint,Enum.EasingDirection.Out),p):Play()
end

-- GUI ROOT
local gui = Instance.new("ScreenGui")
gui.Name = "KrypthAJ"
gui.IgnoreGuiInset = true
gui.ResetOnSpawn = false
gui.Parent = PlayerGui

-- MAIN PANEL
local main = Instance.new("Frame")
main.Size = UDim2.fromScale(0.48,0.6)
main.Position = UDim2.fromScale(0.26,0.2)
main.BackgroundColor3 = Color3.fromRGB(18,19,23)
main.BorderSizePixel = 0
main.Active = true
main.Parent = gui
Instance.new("UICorner",main).CornerRadius = UDim.new(0,26)

-- SHADOW
local shadow = Instance.new("ImageLabel")
shadow.Image = "rbxassetid://1316045217"
shadow.ImageTransparency = 0.6
shadow.ScaleType = Enum.ScaleType.Slice
shadow.SliceCenter = Rect.new(10,10,118,118)
shadow.Size = UDim2.fromScale(1.06,1.1)
shadow.Position = UDim2.fromScale(-0.03,-0.05)
shadow.BackgroundTransparency = 1
shadow.Parent = main

-- HEADER
local header = Instance.new("Frame")
header.Size = UDim2.new(1,0,0,80)
header.BackgroundTransparency = 1
header.Parent = main

local title = Instance.new("TextLabel")
title.Text = "KRYPT AJ"
title.FontFace = Font.new("rbxasset://fonts/families/TitilliumWeb.json",Enum.FontWeight.SemiBold)
title.TextSize = 28
title.TextColor3 = Color3.fromRGB(240,240,245)
title.BackgroundTransparency = 1
title.Position = UDim2.fromOffset(28,26)
title.Size = UDim2.fromOffset(300,30)
title.TextXAlignment = Enum.TextXAlignment.Left
title.Parent = header

-- TAB BAR
local tabs = Instance.new("Frame")
tabs.Size = UDim2.new(1,-48,0,54)
tabs.Position = UDim2.fromOffset(24,96)
tabs.BackgroundTransparency = 1
tabs.Parent = main

local tabsLayout = Instance.new("UIListLayout")
tabsLayout.FillDirection = Enum.FillDirection.Horizontal
tabsLayout.Padding = UDim.new(0,12)
tabsLayout.Parent = tabs

local function newTab(text)
	local b = Instance.new("TextButton")
	b.Size = UDim2.fromOffset(160,48)
	b.BackgroundColor3 = Color3.fromRGB(26,28,34)
	b.BorderSizePixel = 0
	b.Text = text
	b.FontFace = Font.new("rbxasset://fonts/families/TitilliumWeb.json",Enum.FontWeight.Medium)
	b.TextSize = 15
	b.TextColor3 = Color3.fromRGB(180,185,195)
	Instance.new("UICorner",b).CornerRadius = UDim.new(0,16)
	return b
end

local tab1 = newTab("1M – 10M")
local tab2 = newTab("10M – 100M")
local tab3 = newTab("100M – INF")

tab1.Parent = tabs
tab2.Parent = tabs
tab3.Parent = tabs

-- LIST
local list = Instance.new("ScrollingFrame")
list.Position = UDim2.fromOffset(24,160)
list.Size = UDim2.new(1,-48,1,-180)
list.CanvasSize = UDim2.new(0,0,0,0)
list.ScrollBarImageTransparency = 0.5
list.BackgroundTransparency = 1
list.BorderSizePixel = 0
list.Parent = main

local layout = Instance.new("UIListLayout")
layout.Padding = UDim.new(0,14)
layout.Parent = list

layout:GetPropertyChangedSignal("AbsoluteContentSize"):Connect(function()
	list.CanvasSize = UDim2.new(0,0,0,layout.AbsoluteContentSize.Y + 20)
end)

-- CARD
local function card(data)
	local f = Instance.new("Frame")
	f.Size = UDim2.new(1,0,0,90)
	f.BackgroundColor3 = Color3.fromRGB(24,26,32)
	f.BorderSizePixel = 0
	f.Parent = list
	Instance.new("UICorner",f).CornerRadius = UDim.new(0,18)

	local name = Instance.new("TextLabel")
	name.Text = data.brainrot or "Unknown"
	name.FontFace = Font.new("rbxasset://fonts/families/TitilliumWeb.json",Enum.FontWeight.Medium)
	name.TextSize = 17
	name.TextColor3 = Color3.fromRGB(235,235,240)
	name.BackgroundTransparency = 1
	name.Position = UDim2.fromOffset(22,18)
	name.Size = UDim2.new(1,-200,0,24)
	name.TextXAlignment = Enum.TextXAlignment.Left
	name.Parent = f

	local money = Instance.new("TextLabel")
	money.Text = data.money or ""
	money.FontFace = Font.new("rbxasset://fonts/families/TitilliumWeb.json")
	money.TextSize = 14
	money.TextColor3 = Color3.fromRGB(160,170,185)
	money.BackgroundTransparency = 1
	money.Position = UDim2.fromOffset(22,46)
	money.Size = UDim2.new(1,-200,0,20)
	money.TextXAlignment = Enum.TextXAlignment.Left
	money.Parent = f

	local join = Instance.new("TextButton")
	join.Text = "JOIN"
	join.FontFace = Font.new("rbxasset://fonts/families/TitilliumWeb.json",Enum.FontWeight.SemiBold)
	join.TextSize = 15
	join.TextColor3 = Color3.fromRGB(20,20,24)
	join.BackgroundColor3 = Color3.fromRGB(85,200,135)
	join.Size = UDim2.fromOffset(110,42)
	join.Position = UDim2.new(1,-132,0.5,-21)
	join.BorderSizePixel = 0
	join.Parent = f
	Instance.new("UICorner",join).CornerRadius = UDim.new(0,14)

	join.MouseButton1Click:Connect(function()
		TeleportService:TeleportToPlaceInstance(data.placeId,data.jobId,player)
	end)

	f.BackgroundTransparency = 1
	tween(f,{BackgroundTransparency=0},0.25)
end

-- FILTER
local range = {min=1e6,max=1e7}

local function activate(tab)
	for _,b in ipairs({tab1,tab2,tab3}) do
		b.BackgroundColor3 = Color3.fromRGB(26,28,34)
		b.TextColor3 = Color3.fromRGB(180,185,195)
	end
	tab.BackgroundColor3 = Color3.fromRGB(34,38,46)
	tab.TextColor3 = Color3.fromRGB(240,240,245)
end

tab1.MouseButton1Click:Connect(function()
	range={min=1e6,max=1e7}
	activate(tab1)
end)
tab2.MouseButton1Click:Connect(function()
	range={min=1e7,max=1e8}
	activate(tab2)
end)
tab3.MouseButton1Click:Connect(function()
	range={min=1e8,max=math.huge}
	activate(tab3)
end)

activate(tab1)

-- DATA
local function refresh()
	list:ClearAllChildren()
	layout.Parent = list

	local ok,res = pcall(function()
		return HttpService:GetAsync(RELAY_URL)
	end)
	if not ok then return end

	local data = HttpService:JSONDecode(res)
	for _,v in ipairs(data) do
		local mps = tonumber(v.mps) or 0
		if mps>=range.min and mps<range.max then
			card(v)
		end
	end
end

task.spawn(function()
	while task.wait(REFRESH_INTERVAL) do
		refresh()
	end
end)

refresh()

-- DRAG
do
	local dragging,start,startPos
	main.InputBegan:Connect(function(i)
		if i.UserInputType==Enum.UserInputType.MouseButton1 then
			dragging=true
			start=i.Position
			startPos=main.Position
		end
	end)
	UserInputService.InputChanged:Connect(function(i)
		if dragging and i.UserInputType==Enum.UserInputType.MouseMovement then
			local d=i.Position-start
			main.Position=startPos+UDim2.fromOffset(d.X,d.Y)
		end
	end)
	UserInputService.InputEnded:Connect(function(i)
		if i.UserInputType==Enum.UserInputType.MouseButton1 then
			dragging=false
		end
	end)
end
